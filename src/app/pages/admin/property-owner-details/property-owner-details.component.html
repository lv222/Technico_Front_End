<h1>Property owner details for {{ propertyOwnerId }}</h1>

<div class="container">
  <div class="card-title">
    <h2>Update Owner Details</h2>
  </div>

  <form
    class="form-group-update-owner"
    [formGroup]="updateForm"
    (ngSubmit)="onSubmit()"
  >
    <label>Name</label>
    <input formControlName="name" type="text" name="name" placeholder="Name" />

    <div
      *ngIf="formValues.name?.errors?.['required'] && formValues.name?.touched"
      class="error"
    >
      Name is required.
    </div>
    <div
      *ngIf="formValues.name?.errors?.['minlength'] && formValues.name?.touched"
      class="error"
    >
      Name must be at least 2 characters long.
    </div>
    <div
      *ngIf="formValues.name?.errors?.['maxlength'] && formValues.name?.touched"
      class="error"
    >
      Name cannot be more than 50 characters long.
    </div>
    <div
      *ngIf="formValues.name?.errors?.['pattern'] && formValues.name?.touched"
      class="error"
    >
      Name can only contain letters and spaces.
    </div>

    <label>Surname</label>
    <input
      type="text"
      name="surname"
      placeholder="Surame"
      formControlName="surname"
    />
    <div
      *ngIf="formValues.surname?.errors?.['required'] && formValues.surname?.touched"
      class="error"
    >
      Surname is required.
    </div>
    <div
      *ngIf="formValues.surname?.errors?.['minlength'] && formValues.surname?.touched"
      class="error"
    >
      Surname must be at least 2 characters long.
    </div>
    <div
      *ngIf="formValues.surname?.errors?.['maxlength'] && formValues.surname?.touched"
      class="error"
    >
      Surname cannot be more than 50 characters long.
    </div>
    <div
      *ngIf="formValues.surname?.errors?.['pattern'] && formValues.surname?.touched"
      class="error"
    >
      Surname can only contain letters and spaces.
    </div>

    <input
      type="text"
      name="vat"
      placeholder="Vat"
      formControlName="vat"
      readonly
    />
    <label>Address</label>
    <input
      type="text"
      name="address"
      placeholder="Address"
      formControlName="address"
    />

    <div
      *ngIf="formValues.address?.errors?.['required'] && formValues.address?.touched"
      class="error"
    >
      Address is required.
    </div>
    <div
      *ngIf="formValues.address?.errors?.['minlength'] && formValues.address?.touched"
      class="error"
    >
      Address must be at least 2 characters long.
    </div>
    <div
      *ngIf="formValues.address?.errors?.['maxlength'] && formValues.address?.touched"
      class="error"
    >
      Address cannot be more than 100 characters long.
    </div>

    <label>Phone Number</label>
    <input
      type="phoneNumber"
      name="phoneNumber"
      placeholder="Phone Number"
      formControlName="phoneNumber"
    />

    <div
      *ngIf="formValues.phoneNumber?.errors?.['required'] && formValues.phoneNumber?.touched"
      class="error"
    >
      Phone Number is required.
    </div>

    <label>Email</label>
    <input
      type="email"
      name="email"
      placeholder="Email"
      formControlName="email"
    />

    <div
      *ngIf="formValues.email?.errors?.['required'] && formValues.email?.touched"
      class="error"
    >
      Email is required.
    </div>
    <div
      *ngIf="formValues.email?.errors?.['email'] && formValues.email?.touched"
      class="error"
    >
      Please enter a valid email address.
    </div>
    <!-- <label>Password</label>
    <input
      type="password"
      name="password"
      placeholder="Password"
      formControlName="password"
    /> -->

    <div class="btn"><input type="submit" value="Update" /></div>
    <div class="btn-container">
      <input
        class="disabled-button"
        disabled
        type="text"
        [value]="propertyOwnerId"
        readonly
      />

      <button
        type="button"
        class="deactivate-button"
        (click)="deactivatePropertyOwner()"
        alert="Are you sure you want to delete this owner"
      >
        Deactivate Property Owner
      </button>

      <button
        type="button"
        class="delete-button"
        (click)="deletePropertyOwner()"
        alert="Are you sure you want to delete this owner"
      >
        Delete Property Owner
      </button>
    </div>
  </form>
  <div class="route-link">
    <span>Back to </span
    ><a routerLink="/properties-and-property-owners">Properties</a>
  </div>
</div>
